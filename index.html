<!doctype html>
<html lang="en">
<!-- 

http://jqueryui.com/draggable/#handle
http://jqueryui.com/resizable/


TODO:
  - Add VOLUME
  - Add SHARING
  - Add DOWNLOAD
  - Make Control Bar visible for first five seconds
  - Make videos NOT autostart
  - Make SWITCH button
  
-->

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>PIP-JS</title>
	<link rel="stylesheet" href="themes/base/jquery-ui.css">
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp"
	 crossorigin="anonymous">


	<script src="jquery-1.12.4.js"></script>

	<script src="jquery-ui.js"></script>



	<script>
		var isPlaying = true;
    var isFullScreen = false;
    
    $( function() {
    
      $( "#video-pip" ).resizable({
        aspectRatio: 16 / 9
      });    

      $( "#video-pip" ).draggable({ handle: "video" });
      $( "#video-pip" ).draggable({ cancel: "video.ui-widget-header" });

  } );
	</script>
	<script>
		function toggleVideos() {
    if (isPlaying == true) {
      pauseVideos();
    } else {
      playVideos();
    }
  }

  function pauseVideos() {
    document.getElementById('mainVideo').pause();
    document.getElementById('pipVideo').pause();
    document.getElementById("videoControlButton").innerHTML = '<i class="far fa-play-circle"></i>';
    isPlaying = false;
  }
  
  function playVideos() {
    document.getElementById('mainVideo').play();
    document.getElementById('pipVideo').play();
    document.getElementById("videoControlButton").innerHTML = '<i class="far fa-pause-circle"></i>';
    isPlaying = true;
  }
  
  function fullScreen(){
    if (isFullScreen == false) {
      document.getElementById('allContent').style.width = '100%';
      var clientHeight = document.getElementById('mainVideo').clientHeight;
      document.getElementById('allContent').style.height = '' + clientHeight + 'px';
      isFullScreen = true;
    } else {
      document.getElementById('allContent').style.width = '700px';
      var clientHeight = document.getElementById('mainVideo').clientHeight;
      document.getElementById('allContent').style.height = '' + clientHeight + 'px';
      isFullScreen = false;
    }
  }
  
  function volume() {
    pauseVideos();
    alert("Volume control is not yet available.");
  }
  
  function download() {
    pauseVideos();
    alert("Video download is not yet available.");
  }
  
  function share() {
    pauseVideos();
    alert("Sharing is not yet available.");
  }
  
  function reset() {
    pauseVideos();
    alert("The reset function is not yet available.");  
  }
	</script>


	<style>
		#mainVideo {
			position: absolute;
			right: 0;
			left: 0;
			margin: auto;
			width: 100%;
		}

		#video-pip {
			width: 200px;
			background-color: black;
			margin-top: 10px;
			margin-left: 60px;
		}

		#allContent {
			width: 700px;
			height: 394px;
			position: fixed;
			left: 0;
			right: 0;
			margin: auto;
			text-align: center;
		}

		#controls {
			background-color: black;
			opacity: .1;
			width: 50px;
			height: 354px;
			position: absolute;
			top: 0;
			left;
			0;
			margin-left: auto;
			margin-right: auto;
			padding-bottom: 20px;
			margin-bottom: 20px;
			padding-top: 20px;
		}

		#controls:hover {
			background-color: black;
			opacity: .7;
		}

		button {
			border: none;
			background-color: transparent;
			color: white;
			font-size: 20pt;
			margin-top: 10px;
		}

		button:focus {
			outline: 0;
		}
	</style>


</head>

<body>

	<div id="allContent">

		<div id="video-main">
			<video autoplay loop id="mainVideo">
				<source id="mainVideoSRC" src="rain.mp4" type="video/mp4"> Your browser does not support HTML5 video.
			</video>
		</div>


		<div id="video-pip" class="ui-widget-content">
			<video autoplay muted loop id="pipVideo" width="100%">
				<source src="TextStrip.mp4" type="video/mp4" id=""> Your browser does not support HTML5 video.
			</video>
		</div>

		<div id="controls">
			<button onClick="toggleVideos()" id="videoControlButton"><i class="far fa-pause-circle"></i></button><br />
			<button onclick="fullScreen()"><i class="fas fa-expand"></i></button><br />
			<button onclick="volume()"><i class="fas fa-volume-up"></i></button><br />
			<button onclick="download()"><i class="fas fa-download"></i></button><br />
			<button onclick="share()"><i class="fas fa-share"></i></button><br />
      <button onclick="reset()"><i class="fas fa-sync"></i></button><br />
		</div>

	</div>

</body>

</html>
